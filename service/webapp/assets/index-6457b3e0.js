import{r as J,g as j,o as D,a as F,b as G,c as L,d as v,e as a,f as c,h as t,w as _,E as A,i as b,j as e,u as s,t as o,k as i,F as U,l as $,m as q,n as R,p as S,q as z,s as H,_ as K}from"./index-18099f67.js";import{s as O}from"./request-ecb1507f.js";const Q=()=>O({url:"info",method:"get"}),W={class:"app-container"},X=e("span",{style:{"vertical-align":"middle"}},"CPU",-1),Y={class:"el-table el-table--enable-row-hover el-table--medium"},Z={cellspacing:"0",style:{width:"100%"}},ee=e("thead",null,[e("tr",null,[e("th",{class:"el-table__cell is-leaf",width:"120"},[e("div",{class:"cell"},"属性")]),e("th",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"值")])])],-1),le=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"核心数")],-1),se={class:"el-table__cell is-leaf"},te={key:0,class:"cell"},ae=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"用户使用率")],-1),ce={class:"el-table__cell is-leaf"},_e={key:0,class:"cell"},oe=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"系统使用率")],-1),ie={class:"el-table__cell is-leaf"},de={key:0,class:"cell"},ne=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"当前空闲率")],-1),re={class:"el-table__cell is-leaf"},he={key:0,class:"cell"},ue=e("span",{style:{"vertical-align":"middle"}},"内存",-1),be={class:"el-table el-table--enable-row-hover el-table--medium"},me={cellspacing:"0",style:{width:"100%"}},fe=e("thead",null,[e("tr",null,[e("th",{class:"el-table__cell is-leaf",width:"120"},[e("div",{class:"cell"},"属性")]),e("th",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"内存")])])],-1),ve=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"总内存")],-1),pe={class:"el-table__cell is-leaf"},ye={key:0,class:"cell"},ge=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"已用内存")],-1),we={class:"el-table__cell is-leaf"},ke={key:0,class:"cell"},xe=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"剩余内存")],-1),Ne={class:"el-table__cell is-leaf"},Ce={key:0,class:"cell"},Te=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"使用率")],-1),Ie={class:"el-table__cell is-leaf"},Ee={key:0,class:"cell"},Pe=e("span",{style:{"vertical-align":"middle"}},"服务器信息",-1),Me={class:"el-table el-table--enable-row-hover el-table--medium"},Ve={cellspacing:"0",style:{width:"100%"}},Be=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"服务器名称")],-1),Je={class:"el-table__cell is-leaf"},je={key:0,class:"cell"},De=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"操作系统")],-1),Fe={class:"el-table__cell is-leaf"},Ge={key:0,class:"cell"},Le=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"服务器IP")],-1),Ae={class:"el-table__cell is-leaf"},Ue={key:0,class:"cell"},$e=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"系统架构")],-1),qe={class:"el-table__cell is-leaf"},Re={key:0,class:"cell"},Se=e("span",{style:{"vertical-align":"middle"}},"环境信息",-1),ze={class:"el-table el-table--enable-row-hover el-table--medium"},He={cellspacing:"0",style:{width:"100%","table-layout":"fixed"}},Ke=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"开机时间")],-1),Oe={class:"el-table__cell is-leaf"},Qe={key:0,class:"cell"},We=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"运行时长")],-1),Xe={class:"el-table__cell is-leaf"},Ye={key:0,class:"cell"},Ze=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Java版本")],-1),el={class:"el-table__cell is-leaf"},ll={key:0,class:"cell"},sl=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Java路径")],-1),tl={class:"el-table__cell is-leaf"},al={key:0,class:"cell"},cl=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"NodeJs版本")],-1),_l={class:"el-table__cell is-leaf"},ol={key:0,class:"cell"},il=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"NodeJs路径")],-1),dl={class:"el-table__cell is-leaf"},nl={key:0,class:"cell"},rl=e("span",{style:{"vertical-align":"middle"}},"磁盘状态",-1),hl={class:"el-table el-table--enable-row-hover el-table--medium"},ul={cellspacing:"0",style:{width:"100%"}},bl=e("thead",null,[e("tr",null,[e("th",{class:"el-table__cell el-table__cell is-leaf"},[e("div",{class:"cell"},"盘符路径")]),e("th",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"文件系统")]),e("th",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"盘符类型")]),e("th",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"总大小")]),e("th",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"可用大小")]),e("th",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"已用大小")]),e("th",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"已用百分比")])])],-1),ml={key:0},fl={class:"el-table__cell is-leaf"},vl={class:"cell"},pl={class:"el-table__cell is-leaf"},yl={class:"cell"},gl={class:"el-table__cell is-leaf"},wl={class:"cell"},kl={class:"el-table__cell is-leaf"},xl={class:"cell"},Nl={class:"el-table__cell is-leaf"},Cl={class:"cell"},Tl={class:"el-table__cell is-leaf"},Il={class:"cell"},El={class:"el-table__cell is-leaf"},Pl={class:"cell"},Ml=e("span",{style:{"vertical-align":"middle"}},"内存状态",-1),jl={__name:"index",setup(Vl){let p;const l=J([]),{proxy:g}=j();function w(n){n&&g.$modal.loading("正在加载服务监控数据，请稍候！"),Q().then(y=>{console.log(y),l.value=y.data}).finally(()=>g.$modal.closeLoading())}function d(n){return!n||isNaN(n)||Number.isInteger(n)?n:parseFloat(parseFloat(n).toFixed(2))}D(()=>x()),F(()=>x()),G(()=>k()),L(()=>k());function k(){console.log("clearTimer..."),clearInterval(p),p=null}function x(){console.log("startTimer..."),clearInterval(p),p=setInterval(()=>{w()},5e3)}return w(!0),(n,y)=>{const C=v("Cpu"),m=q,h=R,u=S,T=v("Tickets"),I=v("Monitor"),E=v("CoffeeCup"),N=v("MessageBox"),f=z,P=H,M=A,V=K;return a(),c("div",W,[t(M,null,{default:_(()=>[t(u,{span:12,class:"card-box"},{default:_(()=>[t(h,null,{header:_(()=>[t(C,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),b(),X]),default:_(()=>[e("div",Y,[e("table",Z,[ee,e("tbody",null,[e("tr",null,[le,e("td",se,[s(l).cpu?(a(),c("div",te,o(d(s(l).cpu.cpuNum)),1)):i("",!0)])]),e("tr",null,[ae,e("td",ce,[s(l).cpu?(a(),c("div",_e,[t(m,{"text-inside":!0,"stroke-width":20,percentage:d(s(l).cpu.used)},null,8,["percentage"])])):i("",!0)])]),e("tr",null,[oe,e("td",ie,[s(l).cpu?(a(),c("div",de,[t(m,{"text-inside":!0,"stroke-width":20,percentage:d(s(l).cpu.sys)},null,8,["percentage"])])):i("",!0)])]),e("tr",null,[ne,e("td",re,[s(l).cpu?(a(),c("div",he,[t(m,{"text-inside":!0,"stroke-width":20,status:"success",percentage:d(s(l).cpu.free)},null,8,["percentage"])])):i("",!0)])])])])])]),_:1})]),_:1}),t(u,{span:12,class:"card-box"},{default:_(()=>[t(h,null,{header:_(()=>[t(T,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),b(),ue]),default:_(()=>[e("div",be,[e("table",me,[fe,e("tbody",null,[e("tr",null,[ve,e("td",pe,[s(l).mem?(a(),c("div",ye,o(d(s(l).mem.total))+"G",1)):i("",!0)])]),e("tr",null,[ge,e("td",we,[s(l).mem?(a(),c("div",ke,o(d(s(l).mem.used))+"G",1)):i("",!0)])]),e("tr",null,[xe,e("td",Ne,[s(l).mem?(a(),c("div",Ce,o(d(s(l).mem.free))+"G",1)):i("",!0)])]),e("tr",null,[Te,e("td",Ie,[s(l).mem?(a(),c("div",Ee,[t(m,{"text-inside":!0,"stroke-width":20,status:s(l).mem.usage<50?"success":s(l).mem.usage<80?"warning":"exception",percentage:d(s(l).mem.usage)},null,8,["status","percentage"])])):i("",!0)])])])])])]),_:1})]),_:1}),t(u,{span:24,class:"card-box"},{default:_(()=>[t(h,null,{header:_(()=>[t(I,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),b(),Pe]),default:_(()=>[e("div",Me,[e("table",Ve,[e("tbody",null,[e("tr",null,[Be,e("td",Je,[s(l).sys?(a(),c("div",je,o(s(l).sys.computerName),1)):i("",!0)]),De,e("td",Fe,[s(l).sys?(a(),c("div",Ge,o(s(l).sys.osName),1)):i("",!0)])]),e("tr",null,[Le,e("td",Ae,[s(l).sys?(a(),c("div",Ue,o(s(l).sys.computerIp),1)):i("",!0)]),$e,e("td",qe,[s(l).sys?(a(),c("div",Re,o(s(l).sys.osArch),1)):i("",!0)])])])])])]),_:1})]),_:1}),t(u,{span:24,class:"card-box"},{default:_(()=>[t(h,null,{header:_(()=>[t(E,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),b(),Se]),default:_(()=>[e("div",ze,[e("table",He,[e("tbody",null,[e("tr",null,[Ke,e("td",Oe,[s(l).sys?(a(),c("div",Qe,o(s(l).sys.startTime),1)):i("",!0)]),We,e("td",Xe,[s(l).sys?(a(),c("div",Ye,o(s(l).sys.uptime),1)):i("",!0)])]),e("tr",null,[Ze,e("td",el,[s(l).sys?(a(),c("div",ll,o(s(l).sys.javaVersion),1)):i("",!0)]),sl,e("td",tl,[s(l).sys?(a(),c("div",al,o(s(l).sys.javaPath),1)):i("",!0)])]),e("tr",null,[cl,e("td",_l,[s(l).sys?(a(),c("div",ol,o(s(l).sys.nodeVersion),1)):i("",!0)]),il,e("td",dl,[s(l).sys?(a(),c("div",nl,o(s(l).sys.nodePath),1)):i("",!0)])])])])])]),_:1})]),_:1}),t(u,{span:24,class:"card-box"},{default:_(()=>[t(h,null,{header:_(()=>[t(N,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),b(),rl]),default:_(()=>[e("div",hl,[e("table",ul,[bl,s(l).sysFiles?(a(),c("tbody",ml,[(a(!0),c(U,null,$(s(l).sysFiles,(r,B)=>(a(),c("tr",{key:B},[e("td",fl,[e("div",vl,o(r.dirName),1)]),e("td",pl,[e("div",yl,o(r.sysTypeName),1)]),e("td",gl,[e("div",wl,o(r.typeName),1)]),e("td",kl,[e("div",xl,o(r.total),1)]),e("td",Nl,[e("div",Cl,o(r.free),1)]),e("td",Tl,[e("div",Il,o(r.used),1)]),e("td",El,[e("div",Pl,[t(m,{"text-inside":!0,"stroke-width":20,percentage:d(r.usage)},null,8,["percentage"])])])]))),128))])):i("",!0)])])]),_:1})]),_:1}),t(u,{span:24,class:"card-box"},{default:_(()=>[t(h,null,{header:_(()=>[t(N,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),b(),Ml]),default:_(()=>[t(P,{data:s(l).top||[],style:{width:"100%"}},{default:_(()=>[t(f,{label:"序号",type:"index",width:"80"}),t(f,{label:"内存占用大小",prop:"memFormat",width:"140"}),t(f,{label:"PID",prop:"pid",width:"140"}),t(f,{label:"程序路径",prop:"path"}),t(f,{label:"程序详情",prop:"cmd","show-overflow-tooltip":""})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),t(V)])}}};export{jl as default};
